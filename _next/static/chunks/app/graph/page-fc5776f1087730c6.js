(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[813],{386:(e,t,r)=>{Promise.resolve().then(r.bind(r,9406))},9406:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var a=r(5155),s=r(2115),n=r(6479);function l(e){let{data:t,width:r,height:l,offset:c={x:0,y:0}}=e,i=(0,s.useRef)(null),o=(0,s.useRef)({});return(0,s.useEffect)(()=>{if(!i.current)return;let e=n.Ltv(i.current);e.selectAll("*").remove();let a=n.s_O().scaleExtent([.1,4]).on("zoom",e=>{s.attr("transform",e.transform)});e.call(a);let s=e.append("g").attr("class","pan-group").attr("transform","translate(".concat(c.x,",").concat(c.y,")"));e.append("defs").append("pattern").attr("id","grid-pattern").attr("width",50).attr("height",50).attr("patternUnits","userSpaceOnUse").append("path").attr("d","M ".concat(50," 0 L 0 0 0 ").concat(50)).attr("fill","none").attr("stroke","#717171").attr("stroke-width",1);let d=20*Math.max(r,l);s.append("rect").attr("width",d).attr("height",d).attr("x",-d/2).attr("y",-d/2).attr("fill","url(#grid-pattern)");let u=["#706666","#998D8D","#302828","#845151","#4C4B70","#7D9277","#92AC8A","#774A6D","#54818B","#44406C","#5C5A5A","#A08C86","#3C2F2F","#915D5D","#5A547A","#6C8F6A","#9DB39B","#8B5A79","#507C84","#555079"],h=t.links.map(e=>({...e})),x={};t.links.forEach(e=>{let{source:t,target:r}=e;x[t]=(x[t]||0)+1,x[r]=(x[r]||0)+1});let p=t.nodes.map(e=>({...e,color:(o.current[e.id]||(o.current[e.id]=u[Math.floor(Math.random()*u.length)]),o.current[e.id]),degree:x[e.id]||0})),f=n.tXi(p).force("link",n.kJC(h).id(e=>e.id).distance(e=>(20+5*(x[e.source.id]||0)+(20+5*(x[e.target.id]||0)))*1.2)).force("charge",n.xJS().strength(-300)).force("collide",n.eRw().radius(e=>25+7*e.degree)).force("x",n.KS8()).force("y",n.TSS()),m=s.append("g").attr("stroke","#999").attr("stroke-opacity",.9).selectAll("line").data(h).join("line").attr("stroke-width",e=>Math.sqrt(e.value||.1)),g=s.append("g").attr("stroke","#fff").attr("stroke-width",1.5).selectAll("circle").data(p).join("circle").attr("r",e=>20+5*e.degree).attr("fill",e=>e.color).call(n.$Er().on("start",function(e){e.active||f.alphaTarget(.3).restart(),e.subject.fx=e.subject.x,e.subject.fy=e.subject.y}).on("drag",function(e){e.subject.fx=e.x,e.subject.fy=e.y}).on("end",function(e){e.active||f.alphaTarget(0),e.subject.fx=null,e.subject.fy=null}));g.append("title").text(e=>e.id);let b=s.append("g").attr("font-family","sans-serif").attr("font-size",12).attr("text-anchor","middle").selectAll("text").data(p).join("text").text(e=>e.id);return e.attr("width",r).attr("height",l).attr("viewBox","".concat(-r/2," ").concat(-l/2," ").concat(r," ").concat(l)).style("max-width","100%").style("height","100%"),f.on("tick",()=>{m.attr("x1",e=>e.source.x).attr("y1",e=>e.source.y).attr("x2",e=>e.target.x).attr("y2",e=>e.target.y),g.attr("cx",e=>e.x).attr("cy",e=>e.y),b.attr("x",e=>e.x).attr("y",e=>e.y+(20+5*e.degree)+10)}),()=>f.stop()},[t,r,l,c]),(0,a.jsx)("svg",{ref:i})}let c=e=>{let{isOpen3:t,onClose:r,graphData:s,setGraphData:n,node:l,children:c}=e;if(!t)return null;let i=s.links.filter(e=>e.source===l.id||e.target===l.id);return(0,a.jsx)("div",{className:"fixed inset-0 flex bg-black/50 z-50",onClick:r,children:(0,a.jsxs)("div",{className:"bg-white text-black p-8 max-w-md w-full mx-auto my-auto rounded-lg",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("h2",{className:"text-xl font-bold mb-4",children:["Connections for “",l.id,"”"]}),0===i.length?(0,a.jsx)("p",{className:"mb-4",children:"No connections found."}):(0,a.jsx)("ul",{className:"space-y-2 mb-4",children:i.map((e,t)=>{let r=e.source===l.id?e.target:e.source;return(0,a.jsxs)("li",{className:"flex justify-between items-center bg-gray-100 p-2 rounded",children:[(0,a.jsxs)("span",{children:[l.id," ↔ ",r]}),(0,a.jsx)("button",{className:"text-red-500 hover:underline",onClick:()=>{s&&n&&n(t=>({nodes:t.nodes,links:t.links.filter(t=>t.source!==e.source||t.target!==e.target||t.value!==e.value)}))},children:"Delete"})]},"".concat(e.source,"-").concat(e.target,"-").concat(t))})}),(0,a.jsx)("button",{className:"mt-2 px-4 py-2 bg-black text-white rounded",onClick:r,children:"Close"})]})})},i=e=>{let{node:t,graphData:r,setGraphData:n}=e,[l,i]=(0,s.useState)(!1);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"rounded-2 justify-center",children:(0,a.jsx)("div",{className:"bg-black w-130 rounded-2xl h-14 right-100 -ml-10 mb-3.5",children:(0,a.jsxs)("div",{className:"justify-between flex items-center h-full",children:[(0,a.jsx)("p",{className:"text-2xl text-white ml-2",children:t.id}),(0,a.jsx)("img",{src:"/Trash.svg",alt:"Trashcan",className:"w-8 text-white mr-2",onClick:()=>{r&&n&&n({nodes:r.nodes.filter(e=>e.id!==t.id),links:r.links.filter(e=>e.source!==t.id&&e.target!==t.id)})}})]})})}),(0,a.jsx)(c,{isOpen3:l,onClose:()=>i(!1),graphData:r,node:t},t.id)]})},o=e=>{let{isOpen:t,onClose:r,graphData:s,setGraphData:n,children:l}=e;return t?(0,a.jsx)("div",{className:"fixed inset-0 flex bg-black/50 z-50",onClick:r,children:(0,a.jsxs)("div",{className:"bg-white text-black p-20 h-full w-150 relative",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("img",{src:"/cross.svg",alt:"cross",className:"absolute top-4 left-4 size-16 cursor-pointer",onClick:r}),s.nodes.map(e=>(0,a.jsx)(i,{node:e,graphData:s,setGraphData:n},e.id))]})}):null};function d(e){let{isOpen:t,onClose:r,setGraphData:n}=e,[l,c]=(0,s.useState)(""),[i,o]=(0,s.useState)(1),[d,u]=(0,s.useState)(1),[h,x]=(0,s.useState)([""]);return t?(0,a.jsx)("div",{className:"fixed inset-0 flex justify-center items-center bg-black/50 z-50",onClick:r,children:(0,a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),l&&(n(e=>{let t=new Set(e.nodes.map(e=>e.id)),r=t.has(l)?[...e.nodes]:[...e.nodes,{id:l,group:i}];t.add(l),h.forEach(e=>{e&&!t.has(e)&&(r.push({id:e,group:i}),t.add(e))});let a=[...e.links];return h.forEach(t=>{t&&!e.links.some(e=>e.source===l&&e.target===t&&e.value===d)&&a.push({source:l,target:t,value:d})}),{nodes:r,links:a}}),c(""),o(1),x([""]),u(1),r())},className:"bg-white text-black p-8 rounded-2xl max-w-md w-full",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("div",{className:"place-items-center-safe",children:(0,a.jsx)("h2",{className:"text-4xl font-bold mb-4",children:"Add User"})}),(0,a.jsxs)("label",{className:"block mb-2 font-semibold",children:["Name",(0,a.jsx)("input",{type:"text",value:l,onChange:e=>c(e.target.value),className:"bg-gray-300 p-2 mt-1 w-full rounded-2xl"})]}),(0,a.jsxs)("div",{className:"block mb-2",children:[(0,a.jsx)("label",{className:"font-semibold",children:"Friends"}),h.map((e,t)=>(0,a.jsxs)("div",{className:"flex gap-2 items-center mt-1",children:[(0,a.jsx)("input",{type:"text",placeholder:"Target ".concat(t+1),value:e,onChange:e=>{let r=[...h];r[t]=e.target.value,x(r)},className:"bg-gray-300 p-2 mt-1 w-full rounded-2xl"}),(0,a.jsx)("button",{type:"button",onClick:()=>x(e=>1===e.length?e:e.filter((e,r)=>r!==t)),className:"text-red-500 cursor-pointer scale-130 hover:scale-180",disabled:1===h.length,children:"\xd7"})]},t)),(0,a.jsx)("button",{type:"button",onClick:()=>x(e=>[...e,""]),className:"mt-2 font-semibold bg-gray-200 px-3 py-1 rounded hover:scale-110 cursor-pointer transition",children:"+ Add Friend"})]}),(0,a.jsxs)("div",{className:"flex justify-center gap-2",children:[(0,a.jsx)("button",{type:"button",onClick:r,className:"px-4 cursor-pointer py-2 hover:scale-110 transition",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"bg-black text-white cursor-pointer px-4 py-2 rounded-3xl hover:scale-110 transition",children:"Add"})]})]})}):null}function u(){let[e,t]=(0,s.useState)(!1),[r,n]=(0,s.useState)(!1),[c,i]=(0,s.useState)({x:0,y:0}),u=(0,s.useRef)({x:0,y:0}),h=(0,s.useRef)(!1);function x(){h.current=!1}let[p,f]=(0,s.useState)({nodes:[{id:"Ruben",group:1},{id:"Cedric",group:1},{id:"Hiram",group:1},{id:"Chemmah",group:1},{id:"Enzo",group:1}],links:[{source:"Ruben",target:"Cedric",value:1},{source:"Cedric",target:"Hiram",value:1},{source:"Hiram",target:"Chemmah",value:1},{source:"Chemmah",target:"Enzo",value:1},{source:"Enzo",target:"Ruben",value:1}]}),m=(0,s.useRef)(null),[g,b]=(0,s.useState)({width:0,height:0});return(0,s.useEffect)(()=>{if(!m.current)return;let e=new ResizeObserver(e=>{for(let t of e){let{width:e,height:r}=t.contentRect;b({width:e,height:r})}});return e.observe(m.current),()=>e.disconnect()},[]),(0,a.jsxs)("div",{className:"text-black w-screen h-screen relative",children:[(0,a.jsxs)("div",{className:"flex justify-between p-4 bg-transparent w-full fixed z-1",children:[(0,a.jsx)("img",{src:"/menu.svg",alt:"Menu",className:"size-12 cursor-pointer hover:scale-110 transition",onClick:()=>n(!0)}),(0,a.jsx)("button",{onClick:function(){i({x:0,y:0})},className:"bg-black text-white text-lg px-7 py-2 rounded-full cursor-pointer hover:scale-110 transition",children:"Center"}),(0,a.jsx)("img",{src:"/add.svg",alt:"Add",onClick:()=>t(!0),className:"size-12 cursor-pointer hover:scale-110 transition"})]}),(0,a.jsx)(d,{isOpen:e,onClose:()=>t(!1),setGraphData:f}),(0,a.jsx)(o,{isOpen:r,onClose:()=>n(!1),graphData:p,setGraphData:f}),(0,a.jsx)("div",{ref:m,className:"w-full h-full overflow-hidden relative cursor-grab active:cursor-grabbing",onMouseDown:function(e){h.current=!0,u.current={x:e.clientX-c.x,y:e.clientY-c.y}},onMouseMove:function(e){h.current&&i({x:e.clientX-u.current.x,y:e.clientY-u.current.y})},onMouseUp:x,onMouseLeave:x,children:(0,a.jsx)(l,{data:p,width:g.width,height:g.height,offset:c})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[479,441,684,358],()=>t(386)),_N_E=e.O()}]);